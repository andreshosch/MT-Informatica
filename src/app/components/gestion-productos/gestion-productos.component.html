<app-encabezado></app-encabezado>
<app-navbar></app-navbar>

<div class="bloqueos">
    <h3>Gestión de categorías</h3>
    <div class="estructura">
        <div class="izquierda">
            <div><h5>Categorías disponibles</h5></div>
            <div>
                <mat-select id="aBloquear" *ngIf="onlyCategory">
                    <mat-option *ngFor="let category of onlyCategory" [value]="category">{{category}}</mat-option>
                </mat-select>
                <button (click)="altaBloqueo()" mat-raised-button color="primary">Bloquear</button>
            </div>
        </div>
        <div class="derecha">
            <div><h5>Categorías bloqueadas</h5></div>
            <div>
                <mat-select id="aDesbloquear">
                    <mat-option *ngFor="let bloqueado of losBloqueados" [value]="bloqueado">{{bloqueado.categoria}}</mat-option>
                </mat-select>
                <button (click)="bajaBloqueo()" mat-raised-button color="primary">Desbloquear</button>
            </div>
        </div>
    </div>
</div>

<div class="formatoArticulos container">
    <h3>Articulos actuales</h3>
    <div class="galeriaCard container">
        <div *ngFor="let articulo of productosHot">
        
            <div class="card">
                <img src="{{articulo.imagenes}}">
                <h6>{{articulo.nombre}}</h6>
                <h6>Precio: ${{articulo.precio}}</h6>
                <h6>IVA: {{articulo.iva}}%</h6>
                <div class="duplaBoton">
                    <button (click)="modificar(articulo.id)" mat-raised-button color="primary">Modificar</button>
                    <button (click)="borrarPorId(articulo.id)" mat-raised-button color="primary">Borrar</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="formAgregar" *ngIf="modalActivo">
    <div class="formularios">
        <h3>Modificar producto</h3>
        <div>
            <form [formGroup]="modificarProd" (ngSubmit)="agregarProd('m')"> 
            
                <mat-grid-list cols="4" rowHeight="70px" style="margin-top: 8%">
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Nombre</mat-label>
                            <input matInput formControlName="nombreM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Precio</mat-label>
                            <input matInput formControlName="precioM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Iva</mat-label>
                            <input matInput formControlName="ivaM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Impuesto_interno</mat-label>
                            <input matInput formControlName="impuesto_internoM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Categoria</mat-label>
                            <input matInput formControlName="categoriaM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Subcategoria</mat-label>
                            <input matInput formControlName="subcategoriaM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Descripción</mat-label>
                            <input matInput formControlName="descripcionM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Marca</mat-label>
                            <input matInput formControlName="marcaM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Imagen</mat-label>
                            <input matInput formControlName="imagenesM">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Destacado</mat-label>
                            <mat-select formControlName="destacadoM">
                                <mat-option value="true">True</mat-option>
                                <mat-option value="false">False</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>
                <div class="botonera">
                    <button  type="submit" mat-raised-button color="primary" style="float: center;margin-bottom: 40px;" [disabled]="!modificarProd.valid">Actualizar</button>  
                    <button  (click)="cerrarModal()" type="text" mat-raised-button color="primary" style="float: center;margin-bottom: 40px;">Cancelar</button>  
                </div>
            </form>
        </div>
    </div>
</div>

<div class="formAgregar" *ngIf="!modalActivo">
    <div class="formularios">
        <h3>Agregar productos</h3>
        <div>
            <form [formGroup]="altaProd" (ngSubmit)="agregarProd('a')"> 
                <mat-grid-list cols="4" rowHeight="70px" style="margin-top: 8%">
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Nombre</mat-label>
                            <input matInput formControlName="nombre">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Precio</mat-label>
                            <input matInput formControlName="precio">
                        </mat-form-field>
                    </mat-grid-tile>. <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Iva</mat-label>
                            <input matInput formControlName="iva">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Impuesto_interno</mat-label>
                            <input matInput formControlName="impuesto_interno">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Categoria</mat-label>
                            <input matInput formControlName="categoria">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Subcategoria</mat-label>
                            <input matInput formControlName="subcategoria">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Descripción</mat-label>
                            <input matInput formControlName="descripcion">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Marca</mat-label>
                            <input matInput formControlName="marca">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Imagen</mat-label>
                            <input matInput formControlName="imagenes">
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="2" [rowspan]="1">
                        <mat-form-field>
                            <mat-label>Destacado</mat-label>
                            <mat-select formControlName="destacado">
                                <mat-option value="true">True</mat-option>
                                <mat-option value="false">False</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </mat-grid-tile>
                </mat-grid-list>
                <button  type="submit" mat-raised-button color="primary" style="float: center;margin-bottom: 40px;" [disabled]="!altaProd.valid">Aceptar</button>  
            </form>
        </div>
    </div>

</div>
<div *ngIf="_spinner.getSpinner()" class="spinner-container">
    <app-spinner></app-spinner>
  </div>

<app-footer></app-footer>

